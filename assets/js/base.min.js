"use strict";var txt="babel!";Vue.filter("num_format",function(e){return e.toLocaleString()});var app=new Vue({el:"#app",data:{url:"./assets/data/itemData.js",campaign:"200321_marathon_pre",shippingFree:3850,items:[],categoryList:[],recommends:[{id:1,url:"https://www.rakuten.ne.jp/gold/mb/page/18_rkDeal/rk.html",image:"assets/image/rcmd_01.jpg",text:"ポイントバック15%<br>楽天スーパーDEAL開催中",target:!0},{id:2,url:"https://www.rakuten.ne.jp/gold/mb/mb/article/97/rk.html",image:"assets/image/rcmd_02.jpg",text:"モダンブルーがおすすめする<br>春スタイルの最新ルック",target:!0},{id:3,url:"https://www.rakuten.ne.jp/gold/mb/mb/article/96/rk.html",image:"assets/image/rcmd_03.jpg",text:"春に向けてバッグも新調！<br>ミニor大きめ あなたはどっち？",target:!0},{id:4,url:"https://www.rakuten.ne.jp/gold/mb/mb/article/91/rk.html",image:"assets/image/rcmd_04.jpg",text:"ルックスがいいビジネスバッグの選び方",target:!0},{id:5,url:"https://www.rakuten.ne.jp/gold/mb/page/gift/rk.html",image:"assets/image/rcmd_05.jpg",text:"ギフト ～ Gift<br>大切な人に贈るギフト特集",target:!0},{id:6,url:"https://www.rakuten.ne.jp/gold/mb/page/brand_new/ss/rk.html",image:"assets/image/rcmd_06.jpg",text:"2020年春夏新作<br>入荷ブランド一覧",target:!0},{id:7,url:"https://www.rakuten.ne.jp/gold/mb/page/review_coupon/rk.html",image:"assets/image/rcmd_07.jpg",text:"レビューを書いて<br>500円OFFクーポン",target:!0},{id:8,url:"https://item.rakuten.co.jp/mb/c/0000002899/",image:"assets/image/rcmd_08.jpg",text:"お買い得価格目白押し！<br>アウトレット",target:!0}],isError:!1,errorMessage:""},methods:{arrangeToPrice:function(e){return e.toLocaleString()},createCategory:function(e){for(var t=0;t<e.length;t++)this.categoryList.push(e[t].category);this.categoryList=this.categoryList.filter(function(e,t,s){return s.indexOf(e)===t})},updateList:function updateList(items){for(var i=0;i<this.categoryList.length;i++){eval("var "+this.categoryList[i]+' = "";');for(var html="",k=0;k<items.length;k++)this.categoryList[i]===items[k].category&&$("."+this.categoryList[i]).append(this.createItemTag(items[k]))}},createItemTag:function(e){return'<li class="item">\n                    <a href="https://item.rakuten.co.jp/mb/'.concat(e.no,"/?utm_source=lp&utm_campaign=").concat(this.campaign,'" target="_brank"><img src="').concat(e.image,'">\n                    ').concat(""!==e.season?'<span class="note">'+e.season+"</span>":"",'\n                    </a>\n                    <p class="item__term">販売期間前</p>\n                    <p class="item__brand">').concat(e.brand,'</p><p class="item__item">').concat(e.kind,"</p>\n                    ").concat(e.price>this.shippingFree?'<p class="item__price shipping__free">':'<p class="item__price">',"\n                    &yen;<span>").concat(this.arrangeToPrice(e.price),'</span>税込</p><p>&nbsp;</p>\n                    <p class="btn__fav">\n                      <a href="https://my.bookmark.rakuten.co.jp/?func=reg&version=314&svid=120&itype=1&shop_bid=195888&iid=').concat(e.item_id,'" target="_blank">☆ お気に入りに追加</a>\n                    </p>\n                  </li>')}},created:function(){$.ajax({url:this.url,type:"GET",dataType:"jsonp",jsonp:"callback",jsonpCallback:"items"}).done(function(e,t,s){this.items=e,this.createCategory(this.items),this.updateList(this.items)}.bind(this)).fail(function(e,t,s){this.isError=!0,this.errorMessage="商品データの読み込みに失敗しました"}.bind(this))},computed:{recommendList:function(){for(var e=[],t=0;t<this.recommends.length;t++){var s=!0;this.showSaleItem&&!this.recommends[t].isSale&&(s=!1),this.showDelvFree&&0<this.recommends[t].delv&&(s=!1),s&&e.push(this.recommends[t])}return 1==this.sortOrder||2==this.sortOrder&&e.sort(function(e,t){return e.price-t.price}),e}}});$(function(){$(".header__nav .nav__items").clone(!0).css("display","block").appendTo(".menu__cont"),$(".info__items").clone(!0).appendTo(".menu__cont");$(".isWomen").hide(),$(".isMen").show(),$(".sex__items .sex__men").addClass("active")}),$(window).load(function(){var e=location.hostname;-1!=e.indexOf("modern-blue.com")?(base_url="https://www.modern-blue.com",shop="mb"):-1!=e.indexOf("rakuten.ne.jp")?(base_url="https://item.rakuten.co.jp/mb/",shop="rk"):-1!=e.indexOf("shopping.geocities.jp")?(base_url="https://shopping.geocities.jp/mb-y/yh/",shop="yh"):-1!=e.indexOf("localhost")?(base_url="https://www.modern-blue.com",shop="mb"):(base_url="https://item.rakuten.co.jp/mb/",shop="rk"),$(".shop__url").attr("href",base_url),shop,"mb"==shop&&$(".sns").show()}),$(function(){$('a[href^="#"]').click(function(){var e=$(this).attr("href"),t=$("#"==e||""==e?"html":e),s=40;if("#inline_content"==e)return!0;$(".header__nav").is(":hidden")&&$(".menu__cont").is(":visible")&&($(".menu__cont").slideToggle(),$(".toggle").removeClass("active"),s-=0);var i=t.offset().top-s;return $("body, html").animate({scrollTop:i},500,"swing"),!1})}),$(function(){var e=$("#totop"),t=$(".header__nav");$(window).scroll(function(){103<$(this).scrollTop()?(e.fadeIn("fast"),t.addClass("fixd")):(e.fadeOut("fast"),t.removeClass("fixd"))})}),$(function(){$(".list__wrap").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,arrows:!0,dots:!1,adaptiveHeight:!0,asNavFor:".tabs",responsive:[{breakpoint:415,settings:{arrows:!1}}]}),$(".tabs").slick({infinite:!1,slidesToShow:2,slidesToScroll:1,arrows:!1,asNavFor:".list__wrap",dots:!1,focusOnSelect:!0}),$(".banner__items").slick({arrows:!1,dots:!1,infinite:!0,autoplay:!0,autoplaySpeed:3e3,slidesToShow:1,slidesToScroll:1})}),$(function(){$(".sex__items .item").on("click",function(){$(".sex__items .item").removeClass("active"),$(this).addClass("active"),$(".isMen, .isWomen").hide(),$(this).hasClass("sex__men")?$(".isMen").fadeIn():$(this).hasClass("sex__women")&&$(".isWomen").fadeIn()}),$(".headline__btn .btn__sex a").on("click",function(){$(".sex__items .item").removeClass("active"),$(".isMen, .isWomen").hide(),$(this).hasClass("sex__men")?($(".isMen").fadeIn(),$(".sex__items .sex__men").addClass("active")):$(this).hasClass("sex__women")&&($(".isWomen").fadeIn(),$(".sex__items .sex__women").addClass("active"))})}),$(function(){$(".toggle").click(function(){$(".menu__cont").slideToggle("fast"),$(this).toggleClass("active")})}),$(".onSearch").on("click",function(e){var t=encodeURIComponent($(this).siblings().val());if("mb"==shop)var s="https://www.modern-blue.com/ec/cmHeaderSearchProduct/doSearchProduct/cmHeader/%20/%20/1/%20?wd="+t;else if("rk"==shop)s="https://search.rakuten.co.jp/search/mall/"+t+"/?sid=195888";else if("yh"==shop)s="https://store.shopping.yahoo.co.jp/mb-y/search.html?p="+t+"#CentSrchFilter1";open(s,"_blank")});